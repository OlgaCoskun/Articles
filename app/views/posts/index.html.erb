<p id="notice"><%= notice %></p>

<h1>Posts</h1>

<% @posts.each do |post| %>

  <!--  эти две строки ниже наверное можно как то объединить, перебрала несколько вариантов, не вышло :(-->
  <% unless post.link.blank? %>
    <% unless post.category.blank? %>

      <p><%= post.title %></p>

      <p><%= post.body %></p>

      <table>
        <tbody>
        <tr>
          <td><%= link_to 'Show', post_path(post) %></td>
          <td><%= link_to 'Edit', edit_post_path(post) %></td>
          <td><%= link_to 'Destroy', post_path(post), method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <td>

            <% if post.moderator_has == false %>
              <%= link_to 'Send to moderator', send_to_moderator_post_path(post), method: :patch %>
            <% else %>
              <%= link_to 'Take from moderator', take_from_moderator_post_path(post), method: :patch %>
            <% end %>
          </td>
        </tr>
        </tbody>
      </table>
      <br>
    <% end %>
  <% end %>
<% end %>

<%= link_to 'New Post', new_post_path %>
